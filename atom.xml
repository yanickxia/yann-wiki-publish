<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yanick&#39;s Wiki</title>
  
  <subtitle>30岁の魔法师营地</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wiki.yanick.site/"/>
  <updated>2024-03-18T06:05:20.870Z</updated>
  <id>http://wiki.yanick.site/</id>
  
  <author>
    <name>yanick</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>修改 Chrome 插件图标</title>
    <link href="http://wiki.yanick.site/wiki/troubleshooting/modify-chrome-extension-icon/"/>
    <id>http://wiki.yanick.site/wiki/troubleshooting/modify-chrome-extension-icon/</id>
    <published>2024-04-18T16:27:50.000Z</published>
    <updated>2024-03-18T06:05:20.870Z</updated>
    
    <content type="html"><![CDATA[<p>参考 <a href="https://stackoverflow.com/questions/14543896/where-does-chrome-store-extensions" rel="external nofollow noopener noreferrer" target="_blank">Where does Chrome store extensions?</a></p><ol><li>打开插件目录</li><li>从插件页面找到插件 ID，比如 <code>ajfhocnnncognkminddbfadkgdjnlmln</code></li><li>替换 images 里面的 icon 就可以了。</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;参考 &lt;a href=&quot;https://stackoverflow.com/questions/14543896/where-does-chrome-store-extensions&quot; rel=&quot;external nofollow noopener noreferrer&quot; 
      
    
    </summary>
    
      <category term="troubleshooting" scheme="http://wiki.yanick.site/categories/troubleshooting/"/>
    
    
  </entry>
  
  <entry>
    <title>Tab Sync Pro 无法登录</title>
    <link href="http://wiki.yanick.site/wiki/troubleshooting/tab-sync-pro-not-work/"/>
    <id>http://wiki.yanick.site/wiki/troubleshooting/tab-sync-pro-not-work/</id>
    <published>2024-04-18T16:27:50.000Z</published>
    <updated>2024-03-18T06:05:20.870Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://chrome.google.com/webstore/detail/jdlfehkflgfmniokcligbfdjobgapehn" rel="external nofollow noopener noreferrer" target="_blank">https://chrome.google.com/webstore/detail/jdlfehkflgfmniokcligbfdjobgapehn</a> </p><p>点击插件，然后Debug，会发现发送一个 Account 请求，但是没有携带 Bearer Token，所以无法登录。根据请求的发起地方，设置一个断点。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">Q</span>(<span class="params">t, e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> s = <span class="keyword">new</span> URLSearchParams(e);</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">await</span> fetch(<span class="string">`<span class="subst">$&#123;F&#125;</span>/api/<span class="subst">$&#123;t&#125;</span>`</span> + (s ? <span class="string">`?<span class="subst">$&#123;s&#125;</span>`</span> : <span class="string">""</span>), &#123;</span><br><span class="line">        headers: &#123;</span><br><span class="line">            Authorization: <span class="string">`Bearer <span class="subst">$&#123;K&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)).json()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>设置一个断点，等一会就好，应该是没有等待拿到值。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://chrome.google.com/webstore/detail/jdlfehkflgfmniokcligbfdjobgapehn&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;
      
    
    </summary>
    
      <category term="troubleshooting" scheme="http://wiki.yanick.site/categories/troubleshooting/"/>
    
    
  </entry>
  
  <entry>
    <title>Chrome 工具选择</title>
    <link href="http://wiki.yanick.site/wiki/tools/chrome/chrome/"/>
    <id>http://wiki.yanick.site/wiki/tools/chrome/chrome/</id>
    <published>2024-03-07T16:27:50.000Z</published>
    <updated>2024-03-07T07:50:19.892Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Tab-同步"><a href="#Tab-同步" class="headerlink" title="Tab 同步"></a>Tab 同步</h2><p><a href="https://chrome.google.com/webstore/detail/iaiomicjabeggjcfkbimgmglanimpnae" rel="external nofollow noopener noreferrer" target="_blank">Tab Session Manager</a></p><p>心中的白月光是 <a href="https://chrome.google.com/webstore/detail/ailcmbgekjpnablpdkmaaccecekgdhlh" rel="external nofollow noopener noreferrer" target="_blank">Workona</a> 可惜是收费的。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Tab-同步&quot;&gt;&lt;a href=&quot;#Tab-同步&quot; class=&quot;headerlink&quot; title=&quot;Tab 同步&quot;&gt;&lt;/a&gt;Tab 同步&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://chrome.google.com/webstore/detail/iai
      
    
    </summary>
    
      <category term="tools" scheme="http://wiki.yanick.site/categories/tools/"/>
    
    
  </entry>
  
  <entry>
    <title>Ubuntu Natutius 增加自定义 Action</title>
    <link href="http://wiki.yanick.site/wiki/tips/ubuntu/add-action-for-nautilus/"/>
    <id>http://wiki.yanick.site/wiki/tips/ubuntu/add-action-for-nautilus/</id>
    <published>2023-12-07T16:05:41.000Z</published>
    <updated>2023-12-07T10:20:17.272Z</updated>
    
    <content type="html"><![CDATA[<ol><li>安装 Actions For Nautilus configuration</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/bassmanitram/actions-for-nautilus/main/dist/actions-for-nautilus_1.6.1_all.deb</span><br></pre></td></tr></table></figure><ol start="2"><li>配置如下</li></ol><p><img src="https://i.stack.imgur.com/aKueM.png" alt></p><ol start="3"><li>重启 Nautilus</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nautilus -q</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ol&gt;
&lt;li&gt;安装 Actions For Nautilus configuration&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;li
      
    
    </summary>
    
      <category term="tips" scheme="http://wiki.yanick.site/categories/tips/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux 测速</title>
    <link href="http://wiki.yanick.site/wiki/linux/network/speed-test/"/>
    <id>http://wiki.yanick.site/wiki/linux/network/speed-test/</id>
    <published>2023-05-18T10:30:25.000Z</published>
    <updated>2023-05-18T08:40:18.297Z</updated>
    
    <content type="html"><![CDATA[<h2 id="互联网测速"><a href="#互联网测速" class="headerlink" title="互联网测速"></a>互联网测速</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.github.com/sivel/speedtest-cli/master/speedtest.py</span><br><span class="line">chmod a+rx speedtest.py</span><br><span class="line">mv speedtest.py /usr/<span class="built_in">local</span>/bin/speedtest</span><br><span class="line">chown root:root /usr/<span class="built_in">local</span>/bin/speedtest</span><br><span class="line"></span><br><span class="line">speedtest</span><br></pre></td></tr></table></figure><h2 id="节点间测速"><a href="#节点间测速" class="headerlink" title="节点间测速"></a>节点间测速</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install iperf</span><br><span class="line"></span><br><span class="line"><span class="comment"># service</span></span><br><span class="line">iperf -s</span><br><span class="line"></span><br><span class="line"><span class="comment"># client</span></span><br><span class="line"></span><br><span class="line">iperf -c &lt;SERVER_IP&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;互联网测速&quot;&gt;&lt;a href=&quot;#互联网测速&quot; class=&quot;headerlink&quot; title=&quot;互联网测速&quot;&gt;&lt;/a&gt;互联网测速&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;
      
    
    </summary>
    
      <category term="linux" scheme="http://wiki.yanick.site/categories/linux/"/>
    
      <category term="speedtest" scheme="http://wiki.yanick.site/categories/linux/speedtest/"/>
    
    
  </entry>
  
  <entry>
    <title>SmartGit 破解记</title>
    <link href="http://wiki.yanick.site/wiki/hack/smartgit/"/>
    <id>http://wiki.yanick.site/wiki/hack/smartgit/</id>
    <published>2023-04-08T17:28:41.000Z</published>
    <updated>2024-03-07T09:25:19.853Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Version-22"><a href="#Version-22" class="headerlink" title="Version 22"></a>Version 22</h1><p><strong>仅供学习研究，请支持正版</strong></p><p>22 取消了非商业使用的匿名授权有点难顶</p><h2 id="下载-Smartgit"><a href="#下载-Smartgit" class="headerlink" title="下载 Smartgit"></a>下载 Smartgit</h2><p><a href="https://www.syntevo.com/smartgit/" rel="external nofollow noopener noreferrer" target="_blank">smartgit</a></p><h2 id="下载破解补丁"><a href="#下载破解补丁" class="headerlink" title="下载破解补丁"></a>下载破解补丁</h2><p><a href="https://zhile.io/2020/03/27/smartgit-license-crack.html" rel="external nofollow noopener noreferrer" target="_blank">SmartGit/SmartSVN/SmartSynchronize 激活方法</a></p><p><a href="https://pan.baidu.com/s/16Iee4CzEz6ZH7ObbZf6kqQ" rel="external nofollow noopener noreferrer" target="_blank">直接下载： ecx6</a></p><h2 id="破解"><a href="#破解" class="headerlink" title="破解"></a>破解</h2><ol><li>解压 smartgit，然后删除其中的 jar 目录</li><li>修改 smartgit.vmoptions</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-javaagent:&lt;破解路径&gt;/smartgit-agent.jar</span><br></pre></td></tr></table></figure><ol start="3"><li>修改 bin/smartgit.sh<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SMARTGIT_JAVA_HOME=&lt;指向JDK11&gt;</span><br></pre></td></tr></table></figure></li></ol><h1 id="Version-23"><a href="#Version-23" class="headerlink" title="Version 23"></a>Version 23</h1><p>新版的 Agent<br><a href="https://gitee.com/pedoc/crackSmartGit" rel="external nofollow noopener noreferrer" target="_blank">crackSmartGit</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Version-22&quot;&gt;&lt;a href=&quot;#Version-22&quot; class=&quot;headerlink&quot; title=&quot;Version 22&quot;&gt;&lt;/a&gt;Version 22&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;仅供学习研究，请支持正版&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2
      
    
    </summary>
    
      <category term="hack" scheme="http://wiki.yanick.site/categories/hack/"/>
    
    
      <category term="hack" scheme="http://wiki.yanick.site/tags/hack/"/>
    
  </entry>
  
  <entry>
    <title>Python Tips</title>
    <link href="http://wiki.yanick.site/wiki/tips/python/python/"/>
    <id>http://wiki.yanick.site/wiki/tips/python/python/</id>
    <published>2023-03-09T15:10:08.000Z</published>
    <updated>2023-03-16T13:35:15.880Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用-Python-运行一个简单-Web"><a href="#使用-Python-运行一个简单-Web" class="headerlink" title="使用 Python 运行一个简单 Web"></a>使用 Python 运行一个简单 Web</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m http.server 8080</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;使用-Python-运行一个简单-Web&quot;&gt;&lt;a href=&quot;#使用-Python-运行一个简单-Web&quot; class=&quot;headerlink&quot; title=&quot;使用 Python 运行一个简单 Web&quot;&gt;&lt;/a&gt;使用 Python 运行一个简单 Web&lt;/h2&gt;&lt;
      
    
    </summary>
    
      <category term="tips" scheme="http://wiki.yanick.site/categories/tips/"/>
    
      <category term="python" scheme="http://wiki.yanick.site/categories/tips/python/"/>
    
    
  </entry>
  
  <entry>
    <title>Docker Tips</title>
    <link href="http://wiki.yanick.site/wiki/tips/docker/docker/"/>
    <id>http://wiki.yanick.site/wiki/tips/docker/docker/</id>
    <published>2023-02-28T15:10:08.000Z</published>
    <updated>2023-03-16T13:35:15.880Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ofelia-a-job-scheduler"><a href="#ofelia-a-job-scheduler" class="headerlink" title="ofelia - a job scheduler"></a>ofelia - a job scheduler</h2><p>一个基于 Label 的 docker job 工具</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">"3"</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">ofelia:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mcuadros/ofelia:latest</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">daemon</span> <span class="string">--docker</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/var/run/docker.sock:/var/run/docker.sock:ro</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">ofelia.job-local.my-test-job.schedule:</span> <span class="string">"@every 5s"</span></span><br><span class="line">      <span class="attr">ofelia.job-local.my-test-job.command:</span> <span class="string">"date"</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">ofelia.enabled:</span> <span class="string">"true"</span></span><br><span class="line">      <span class="attr">ofelia.job-exec.datecron.schedule:</span> <span class="string">"@every 5s"</span></span><br><span class="line">      <span class="attr">ofelia.job-exec.datecron.command:</span> <span class="string">"uname -</span></span><br></pre></td></tr></table></figure><h2 id="guacamole"><a href="#guacamole" class="headerlink" title="guacamole"></a>guacamole</h2><p>一个 SSH 的 Web 平台，不过有个中文问题需要解决，解决的是 guacd 部分，不是 guacamole 部分，参考 <a href="https://xmsg.org/wordpress/2018/12/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8Edocker%E7%9A%84guacamole%E7%8E%AF%E5%A2%83%E5%B9%B6%E5%AE%9E%E7%8E%B0%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA/" rel="external nofollow noopener noreferrer" target="_blank">快速搭建基于Docker的Guacamole环境并实现中文显示</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">guacd:</span></span><br><span class="line">  <span class="attr">container_name:</span> <span class="string">guacd_compose</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">guacamole/guacd</span></span><br><span class="line">  <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$PWD/data/guacd/drive:/drive:rw</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">$PWD/data/guacd/record:/record:rw</span></span><br><span class="line"><span class="attr">guacamole:</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">guacamole/guacamole</span></span><br><span class="line">  <span class="attr">container_name:</span> <span class="string">guacamole_compose</span></span><br><span class="line">  <span class="attr">depends_on:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mysql</span></span><br><span class="line">  <span class="attr">environment:</span></span><br><span class="line">    <span class="attr">GUACD_HOSTNAME:</span> </span><br><span class="line">    <span class="attr">MYSQL_DATABASE:</span> </span><br><span class="line">    <span class="attr">MYSQL_USER:</span> </span><br><span class="line">    <span class="attr">MYSQL_PORT:</span> </span><br><span class="line">    <span class="attr">MYSQL_HOSTNAME:</span> </span><br><span class="line">    <span class="attr">MYSQL_PASSWORD:</span> </span><br><span class="line">  <span class="attr">links:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">guacd</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="number">8080</span><span class="string">/tcp</span></span><br><span class="line">  <span class="attr">restart:</span> <span class="string">always</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ofelia-a-job-scheduler&quot;&gt;&lt;a href=&quot;#ofelia-a-job-scheduler&quot; class=&quot;headerlink&quot; title=&quot;ofelia - a job scheduler&quot;&gt;&lt;/a&gt;ofelia - a job sch
      
    
    </summary>
    
      <category term="tips" scheme="http://wiki.yanick.site/categories/tips/"/>
    
      <category term="docker" scheme="http://wiki.yanick.site/categories/tips/docker/"/>
    
    
  </entry>
  
  <entry>
    <title>Macos Tips</title>
    <link href="http://wiki.yanick.site/wiki/tips/macos/macos/"/>
    <id>http://wiki.yanick.site/wiki/tips/macos/macos/</id>
    <published>2023-02-28T15:10:08.000Z</published>
    <updated>2023-02-28T02:20:20.152Z</updated>
    
    <content type="html"><![CDATA[<h2 id="pbcopy"><a href="#pbcopy" class="headerlink" title="pbcopy"></a>pbcopy</h2><p>pbcopy 可以将 terimal 中的输出重定向到剪切板中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Copy this into Mac's clipboard"</span> | pbcopy</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;pbcopy&quot;&gt;&lt;a href=&quot;#pbcopy&quot; class=&quot;headerlink&quot; title=&quot;pbcopy&quot;&gt;&lt;/a&gt;pbcopy&lt;/h2&gt;&lt;p&gt;pbcopy 可以将 terimal 中的输出重定向到剪切板中&lt;/p&gt;
&lt;figure class=&quot;hig
      
    
    </summary>
    
      <category term="tips" scheme="http://wiki.yanick.site/categories/tips/"/>
    
      <category term="macos" scheme="http://wiki.yanick.site/categories/tips/macos/"/>
    
    
  </entry>
  
  <entry>
    <title>JQ 使用指南</title>
    <link href="http://wiki.yanick.site/wiki/linux/tips/jq/"/>
    <id>http://wiki.yanick.site/wiki/linux/tips/jq/</id>
    <published>2023-02-18T11:19:25.000Z</published>
    <updated>2023-02-20T09:10:21.350Z</updated>
    
    <content type="html"><![CDATA[<p>JQ 是非常强大的 <a href="https://stedolan.github.io/jq/manual/" rel="external nofollow noopener noreferrer" target="_blank">JSON</a> 操作工具</p><h2 id="JQ-安装"><a href="#JQ-安装" class="headerlink" title="JQ 安装"></a>JQ 安装</h2><p>debian: <code>sudo apt-get install jq</code><br>centos: <code>sudo dnf install jq</code></p><h2 id="JQ-使用"><a href="#JQ-使用" class="headerlink" title="JQ 使用"></a>JQ 使用</h2><ul><li><a href="https://stedolan.github.io/jq/tutorial/" rel="external nofollow noopener noreferrer" target="_blank">https://stedolan.github.io/jq/tutorial/</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;JQ 是非常强大的 &lt;a href=&quot;https://stedolan.github.io/jq/manual/&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;JSON&lt;/a&gt; 操作工具&lt;/p&gt;
&lt;
      
    
    </summary>
    
      <category term="linux" scheme="http://wiki.yanick.site/categories/linux/"/>
    
      <category term="tips" scheme="http://wiki.yanick.site/categories/linux/tips/"/>
    
    
  </entry>
  
  <entry>
    <title>Vscode 搭建开发环境</title>
    <link href="http://wiki.yanick.site/wiki/dev/vscode/"/>
    <id>http://wiki.yanick.site/wiki/dev/vscode/</id>
    <published>2023-02-16T16:05:41.000Z</published>
    <updated>2023-02-20T09:10:21.346Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="tips" scheme="http://wiki.yanick.site/categories/tips/"/>
    
    
  </entry>
  
  <entry>
    <title>Curl 使用姿势</title>
    <link href="http://wiki.yanick.site/wiki/tips/curl/"/>
    <id>http://wiki.yanick.site/wiki/tips/curl/</id>
    <published>2023-02-14T16:05:41.000Z</published>
    <updated>2023-02-14T08:10:18.680Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看详情"><a href="#查看详情" class="headerlink" title="查看详情"></a>查看详情</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -v http://t.cn</span><br></pre></td></tr></table></figure><h2 id="使用-Curl-管理-Cookie"><a href="#使用-Curl-管理-Cookie" class="headerlink" title="使用 Curl 管理 Cookie"></a>使用 Curl 管理 Cookie</h2><p><a href="https://stackoverflow.com/questions/30760213/save-cookies-between-two-curl-requests" rel="external nofollow noopener noreferrer" target="_blank">Save cookies between two curl requests</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -b cookie.txt -c cookie.txt &lt;url&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;查看详情&quot;&gt;&lt;a href=&quot;#查看详情&quot; class=&quot;headerlink&quot; title=&quot;查看详情&quot;&gt;&lt;/a&gt;查看详情&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre
      
    
    </summary>
    
      <category term="tips" scheme="http://wiki.yanick.site/categories/tips/"/>
    
    
  </entry>
  
  <entry>
    <title>cmake</title>
    <link href="http://wiki.yanick.site/wiki/cpp/cmake/cmake/"/>
    <id>http://wiki.yanick.site/wiki/cpp/cmake/cmake/</id>
    <published>2023-02-06T14:28:41.000Z</published>
    <updated>2023-02-07T09:10:18.884Z</updated>
    
    <content type="html"><![CDATA[<h2 id="基础用法"><a href="#基础用法" class="headerlink" title="基础用法"></a>基础用法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 指定 cmake 的最低版本</span><br><span class="line">cmake_minimum_required(VERSION 3.12)</span><br><span class="line"></span><br><span class="line"># cmake 的项目名</span><br><span class="line">project(hello)</span><br><span class="line"></span><br><span class="line"># 定义可执行输出</span><br><span class="line">add_executable(hello main.cpp)</span><br></pre></td></tr></table></figure><h2 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.12)</span><br><span class="line"></span><br><span class="line">project(hello)</span><br><span class="line"></span><br><span class="line"># 增加依赖的子目录</span><br><span class="line">add_subdirectory(poco)</span><br><span class="line"></span><br><span class="line">add_executable(hello main.cpp)</span><br><span class="line"></span><br><span class="line"># 给项目增加库链接</span><br><span class="line">target_link_libraries(hello PUBLIC Poco::Foundation Poco::Zip Poco::Net Poco::Util) # replace `...` by all poco library you use</span><br></pre></td></tr></table></figure><h3 id="添加外部目录链接"><a href="#添加外部目录链接" class="headerlink" title="添加外部目录链接"></a>添加外部目录链接</h3><p>因为外部项目并不在当前目录中，所以需要的一个参数，参考 <a href="https://www.cnblogs.com/qiumingcheng/p/8012128.html" rel="external nofollow noopener noreferrer" target="_blank">cmake:用add_subdirectory()添加外部项目文件夹</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.12)</span><br><span class="line"></span><br><span class="line">project(hello)</span><br><span class="line"></span><br><span class="line">add_subdirectory(/home/yanick/codes/misc/poco poco.out)</span><br><span class="line"></span><br><span class="line">add_executable(hello main.cpp)</span><br><span class="line">target_link_libraries(hello PUBLIC Poco::Foundation Poco::Zip Poco::Net Poco::Util) # replace `...` by all poco library you use</span><br></pre></td></tr></table></figure><h3 id="添加外部依赖"><a href="#添加外部依赖" class="headerlink" title="添加外部依赖"></a>添加外部依赖</h3><p>我们如果需要依赖一个 github 的 tar 包依赖需要这么完成。</p><ol><li>定义需要导入的 cmake 文件，比如 gflag-2.2.2.cmake</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">include(ExternalProject)</span><br><span class="line"> </span><br><span class="line">set(GFLAG_ROOT          $&#123;CMAKE_BINARY_DIR&#125;/thirdparty/gflag-2.2.2)</span><br><span class="line">set(GFLAG_LIB_DIR       $&#123;GFLAG_ROOT&#125;/lib)</span><br><span class="line">set(GFLAG_INCLUDE_DIR   $&#123;GFLAG_ROOT&#125;/include)</span><br><span class="line"> </span><br><span class="line">set(GFLAG_URL           https://github.com/gflags/gflags/archive/v2.2.2.zip)</span><br><span class="line">set(GFLAG_CONFIGURE     cd $&#123;GFLAG_ROOT&#125;/src/gflag-2.2.2 &amp;&amp; cmake -D CMAKE_INSTALL_PREFIX=$&#123;GFLAG_ROOT&#125; .)</span><br><span class="line">set(GFLAG_MAKE          cd $&#123;GFLAG_ROOT&#125;/src/gflag-2.2.2 &amp;&amp; make)</span><br><span class="line">set(GFLAG_INSTALL       cd $&#123;GFLAG_ROOT&#125;/src/gflag-2.2.2 &amp;&amp; make install)</span><br><span class="line">set(GFLAG_LIB           $&#123;GFLAG_LIB_DIR&#125;/libgflags.a)</span><br><span class="line"></span><br><span class="line">ExternalProject_Add(gflag-2.2.2</span><br><span class="line">        URL                   $&#123;GFLAG_URL&#125;</span><br><span class="line">        DOWNLOAD_NAME         gflag-2.2.2.zip</span><br><span class="line">        PREFIX                $&#123;GFLAG_ROOT&#125;</span><br><span class="line">        CONFIGURE_COMMAND     $&#123;GFLAG_CONFIGURE&#125;</span><br><span class="line">        BUILD_COMMAND         $&#123;GFLAG_MAKE&#125;</span><br><span class="line">        INSTALL_COMMAND       $&#123;GFLAG_INSTALL&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ol start="2"><li>在主 CMakeLists.txt 中依赖<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.5)</span><br><span class="line"></span><br><span class="line">project(hello)</span><br><span class="line"></span><br><span class="line">include(gflag-2.2.2.cmake)</span><br><span class="line"></span><br><span class="line">add_executable(hello main.cpp)</span><br><span class="line"># target_link_libraries(hello PUBLIC Poco::Foundation Poco::Zip Poco::Net Poco::Util) # replace `...` by all poco library you use</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">target_link_libraries(hello $&#123;GFLAG_LIB&#125;)</span><br><span class="line">target_include_directories(hello PRIVATE $&#123;GFLAG_INCLUDE_DIR&#125;)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;基础用法&quot;&gt;&lt;a href=&quot;#基础用法&quot; class=&quot;headerlink&quot; title=&quot;基础用法&quot;&gt;&lt;/a&gt;基础用法&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
      <category term="cpp" scheme="http://wiki.yanick.site/categories/cpp/"/>
    
      <category term="cmake" scheme="http://wiki.yanick.site/categories/cpp/cmake/"/>
    
    
      <category term="cpp" scheme="http://wiki.yanick.site/tags/cpp/"/>
    
      <category term="cmake" scheme="http://wiki.yanick.site/tags/cmake/"/>
    
  </entry>
  
  <entry>
    <title>CPP 自学指南</title>
    <link href="http://wiki.yanick.site/wiki/cpp/cpp-tutorial/"/>
    <id>http://wiki.yanick.site/wiki/cpp/cpp-tutorial/</id>
    <published>2023-02-03T17:28:41.000Z</published>
    <updated>2024-03-17T13:02:21.804Z</updated>
    
    <content type="html"><![CDATA[<p>本文作为学习 CPP 的学习路径记录</p><h2 id="语言学习"><a href="#语言学习" class="headerlink" title="语言学习"></a>语言学习</h2><p><a href="https://www.learncpp.com/" rel="external nofollow noopener noreferrer" target="_blank">learncpp</a> 作为学习 CPP 的入门教程是蛮适合的，通读一遍就会对CPP有一个大致的了解。</p><h2 id="工具链学习"><a href="#工具链学习" class="headerlink" title="工具链学习"></a>工具链学习</h2><ul><li><a href="/wiki/cpp/cmake/cmake/">Cmake</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本文作为学习 CPP 的学习路径记录&lt;/p&gt;
&lt;h2 id=&quot;语言学习&quot;&gt;&lt;a href=&quot;#语言学习&quot; class=&quot;headerlink&quot; title=&quot;语言学习&quot;&gt;&lt;/a&gt;语言学习&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.learncpp.com/&quot; 
      
    
    </summary>
    
      <category term="cpp" scheme="http://wiki.yanick.site/categories/cpp/"/>
    
    
      <category term="cpp" scheme="http://wiki.yanick.site/tags/cpp/"/>
    
  </entry>
  
  <entry>
    <title>kubernetes 安装工具指南</title>
    <link href="http://wiki.yanick.site/wiki/k8s/install/"/>
    <id>http://wiki.yanick.site/wiki/k8s/install/</id>
    <published>2023-02-02T17:31:50.000Z</published>
    <updated>2023-02-20T09:10:21.346Z</updated>
    
    <content type="html"><![CDATA[<p>kubernetes 有很多安装工具，这里有几个使用的做点链接记录</p><h2 id="KubeSphere"><a href="#KubeSphere" class="headerlink" title="KubeSphere"></a>KubeSphere</h2><p><a href="https://kubesphere.io/zh/docs/v3.3/quick-start/all-in-one-on-linux/" rel="external nofollow noopener noreferrer" target="_blank"><code>kubekey</code></a> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> KKZONE=cn</span><br><span class="line">curl -sfL https://get-kk.kubesphere.io | VERSION=v3.0.2 sh -</span><br><span class="line"></span><br><span class="line">chmod +x kk</span><br><span class="line">./kk create cluster</span><br></pre></td></tr></table></figure><p>非常的稳定，还有国内的镜像，安装很方便</p><h2 id="SealOS"><a href="#SealOS" class="headerlink" title="SealOS"></a>SealOS</h2><p><a href="https://github.com/labring/sealos" rel="external nofollow noopener noreferrer" target="_blank">sealos</a> 属于越做越差的类型，这里就不推荐了</p><h2 id="Kind"><a href="#Kind" class="headerlink" title="Kind"></a>Kind</h2><p><a href="https://kind.sigs.k8s.io/" rel="external nofollow noopener noreferrer" target="_blank">kind</a> 也是一个非常好的单机k8s 安装工具。</p><h2 id="k3s"><a href="#k3s" class="headerlink" title="k3s"></a>k3s</h2><p><a href="https://docs.k3s.io/zh/quick-start" rel="external nofollow noopener noreferrer" target="_blank">k3s</a> 是一个阉割版本的 k8s，但是本地启动可能有一些组件无法安装，也不知道为什么，还是推荐第一个</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># curl -sfL https://get.k3s.io | sh -</span></span><br><span class="line">curl -sfL https://rancher-mirror.rancher.cn/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh -</span><br></pre></td></tr></table></figure><h2 id="minikube"><a href="#minikube" class="headerlink" title="minikube"></a>minikube</h2><p><a href="https://minikube.sigs.k8s.io/docs/start/" rel="external nofollow noopener noreferrer" target="_blank">minikube</a> 是社区官方的单机安装版本，非常的简单也很健壮</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-amd64</span><br><span class="line">sudo install minikube-darwin-amd64 /usr/<span class="built_in">local</span>/bin/minikube</span><br><span class="line">minikube start</span><br></pre></td></tr></table></figure><p>但是暴露的方式有点复杂，从远端访问比较的麻烦。</p><h2 id="kuboard"><a href="#kuboard" class="headerlink" title="kuboard"></a>kuboard</h2><p><a href="https://kuboard.cn/install/install-kubernetes.html" rel="external nofollow noopener noreferrer" target="_blank">kuboard</a> 一个全图形化的安装系统，感觉如果需要运维大量的机器这个还是蛮适合的，功能强大。</p><h2 id="kubeasz"><a href="#kubeasz" class="headerlink" title="kubeasz"></a>kubeasz</h2><p><a href="https://github.com/easzlab/kubeasz" rel="external nofollow noopener noreferrer" target="_blank">kubeasz</a> anisbe 脚本一把嗦。</p><h2 id="rancher"><a href="#rancher" class="headerlink" title="rancher"></a>rancher</h2><p><a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/quick-start-guides" rel="external nofollow noopener noreferrer" target="_blank">rancher</a> 使用 rancher 来跑。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;kubernetes 有很多安装工具，这里有几个使用的做点链接记录&lt;/p&gt;
&lt;h2 id=&quot;KubeSphere&quot;&gt;&lt;a href=&quot;#KubeSphere&quot; class=&quot;headerlink&quot; title=&quot;KubeSphere&quot;&gt;&lt;/a&gt;KubeSphere&lt;/h2&gt;
      
    
    </summary>
    
      <category term="kubernetes" scheme="http://wiki.yanick.site/categories/kubernetes/"/>
    
      <category term="install" scheme="http://wiki.yanick.site/categories/kubernetes/install/"/>
    
    
  </entry>
  
  <entry>
    <title>netfilter 速查</title>
    <link href="http://wiki.yanick.site/wiki/linux/network/netfilter/"/>
    <id>http://wiki.yanick.site/wiki/linux/network/netfilter/</id>
    <published>2022-09-18T10:30:25.000Z</published>
    <updated>2022-09-18T02:25:20.370Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://upload.wikimedia.org/wikipedia/commons/3/37/Netfilter-packet-flow.svg" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/3/37/Netfilter-packet-flow.svg&quot; alt&gt;&lt;/p&gt;

      
    
    </summary>
    
      <category term="linux" scheme="http://wiki.yanick.site/categories/linux/"/>
    
      <category term="netfilter" scheme="http://wiki.yanick.site/categories/linux/netfilter/"/>
    
    
  </entry>
  
  <entry>
    <title>桌面图标</title>
    <link href="http://wiki.yanick.site/wiki/linux/tips/desktop/"/>
    <id>http://wiki.yanick.site/wiki/linux/tips/desktop/</id>
    <published>2022-09-01T11:19:25.000Z</published>
    <updated>2022-09-01T03:20:15.685Z</updated>
    
    <content type="html"><![CDATA[<h2 id="桌面图标"><a href="#桌面图标" class="headerlink" title="桌面图标"></a>桌面图标</h2><ol><li>/usr/share/applications/</li><li>~/.local/share/applications/</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;桌面图标&quot;&gt;&lt;a href=&quot;#桌面图标&quot; class=&quot;headerlink&quot; title=&quot;桌面图标&quot;&gt;&lt;/a&gt;桌面图标&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;/usr/share/applications/&lt;/li&gt;
&lt;li&gt;~/.local/share/applica
      
    
    </summary>
    
      <category term="desktop" scheme="http://wiki.yanick.site/categories/desktop/"/>
    
    
  </entry>
  
  <entry>
    <title>Ubuntu 升级 22.04 故障记录</title>
    <link href="http://wiki.yanick.site/wiki/linux/notes/ubuntu-22-04/"/>
    <id>http://wiki.yanick.site/wiki/linux/notes/ubuntu-22-04/</id>
    <published>2022-09-01T11:19:25.000Z</published>
    <updated>2022-09-29T06:30:18.262Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Jenkins-JCP-无法连接"><a href="#Jenkins-JCP-无法连接" class="headerlink" title="Jenkins JCP 无法连接"></a>Jenkins JCP 无法连接</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BapSshHostConfiguration<span class="comment">#connect: Failed to connect session for config</span></span><br></pre></td></tr></table></figure><p>查找了下 <code>stackoverflow</code></p><p>在 <code>/etc/ssh/sshd.confi</code> 增加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PubkeyAcceptedKeyTypes=+ssh-rsa</span><br></pre></td></tr></table></figure><p>即可。</p><h2 id="guacamole-无法连接"><a href="#guacamole-无法连接" class="headerlink" title="guacamole 无法连接"></a>guacamole 无法连接</h2><p>参考 <a href="https://www.reddit.com/r/selfhosted/comments/qh7u5x/guacamole_ssh_not_working/" rel="external nofollow noopener noreferrer" target="_blank">https://www.reddit.com/r/selfhosted/comments/qh7u5x/guacamole_ssh_not_working/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HostKeyAlgorithms +ssh-rsa</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Jenkins-JCP-无法连接&quot;&gt;&lt;a href=&quot;#Jenkins-JCP-无法连接&quot; class=&quot;headerlink&quot; title=&quot;Jenkins JCP 无法连接&quot;&gt;&lt;/a&gt;Jenkins JCP 无法连接&lt;/h2&gt;&lt;figure class=&quot;hi
      
    
    </summary>
    
      <category term="ubuntu" scheme="http://wiki.yanick.site/categories/ubuntu/"/>
    
      <category term="22.04" scheme="http://wiki.yanick.site/categories/ubuntu/22-04/"/>
    
    
  </entry>
  
  <entry>
    <title>MongoDB Tips</title>
    <link href="http://wiki.yanick.site/wiki/database/mongodb/mongodb/"/>
    <id>http://wiki.yanick.site/wiki/database/mongodb/mongodb/</id>
    <published>2022-08-22T16:09:25.000Z</published>
    <updated>2022-08-22T09:40:15.352Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关联查询"><a href="#关联查询" class="headerlink" title="关联查询"></a>关联查询</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">db.task.aggregate([</span><br><span class="line">  &#123; $lookup: &#123;</span><br><span class="line">    let: &#123; &quot;modeId&quot;:&#123; &quot;$toObjectId&quot;: &quot;$modem&quot; &#125; &#125;,</span><br><span class="line">    from: &quot;modem&quot;,</span><br><span class="line">    pipeline: [</span><br><span class="line">      &#123; &quot;$match&quot;: &#123; &quot;$expr&quot;: &#123; &quot;$eq&quot;: [ &quot;$_id&quot;, &quot;$$modeId&quot; ] &#125; &#125; &#125;</span><br><span class="line">    ],</span><br><span class="line">    as: &quot;output&quot;</span><br><span class="line">  &#125;&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    $set: &#123;</span><br><span class="line">      modem_name: &#123; $arrayElemAt: [&quot;$output.name&quot;, 0] &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,&#123;</span><br><span class="line">  $project: &#123;</span><br><span class="line">    output: 0</span><br><span class="line">  &#125;</span><br><span class="line">&#125;])</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;关联查询&quot;&gt;&lt;a href=&quot;#关联查询&quot; class=&quot;headerlink&quot; title=&quot;关联查询&quot;&gt;&lt;/a&gt;关联查询&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
      <category term="database" scheme="http://wiki.yanick.site/categories/database/"/>
    
      <category term="mongodb" scheme="http://wiki.yanick.site/categories/database/mongodb/"/>
    
    
  </entry>
  
  <entry>
    <title>kubectl tips</title>
    <link href="http://wiki.yanick.site/wiki/k8s/kubectl-tips/"/>
    <id>http://wiki.yanick.site/wiki/k8s/kubectl-tips/</id>
    <published>2022-08-02T17:31:50.000Z</published>
    <updated>2022-09-27T02:55:17.573Z</updated>
    
    <content type="html"><![CDATA[<h2 id="更新-CR-Status-字段"><a href="#更新-CR-Status-字段" class="headerlink" title="更新 CR Status 字段"></a>更新 CR Status 字段</h2><p>参考 <a href="https://simondrake.dev/microblog/update-k8s-crd-status" rel="external nofollow noopener noreferrer" target="_blank">Update K8s CR Status</a></p><h2 id="强制删除-Namespace"><a href="#强制删除-Namespace" class="headerlink" title="强制删除 Namespace"></a>强制删除 Namespace</h2><p>参考 <a href="https://gist.github.com/renuka-fernando/2cf4420c5460cfd965f3b891091af4c2" rel="external nofollow noopener noreferrer" target="_blank">force-delete-namespace.sh</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"><span class="built_in">set</span> -o pipefail</span><br><span class="line"></span><br><span class="line">kubectl proxy &amp;</span><br><span class="line">proxy_pid=<span class="string">"$!"</span></span><br><span class="line"><span class="built_in">trap</span> <span class="string">'kill "$proxy_pid"'</span> EXIT</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ns <span class="keyword">in</span> $(kubectl get namespace --field-selector=status.phase=Terminating --output=jsonpath=<span class="string">"&#123;.items[*].metadata.name&#125;"</span>); <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Removing finalizers from namespace '<span class="variable">$ns</span>'..."</span></span><br><span class="line">    curl -H <span class="string">"Content-Type: application/json"</span> -X PUT <span class="string">"127.0.0.1:8001/api/v1/namespaces/<span class="variable">$ns</span>/finalize"</span> -d @- \</span><br><span class="line">        &lt; &lt;(kubectl get namespace <span class="string">"<span class="variable">$ns</span>"</span> --output=json | jq <span class="string">'.spec = &#123; "finalizers": [] &#125;'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Force-deleting namespace '<span class="variable">$ns</span>'..."</span></span><br><span class="line">    kubectl delete namespace <span class="string">"<span class="variable">$ns</span>"</span> --force --grace-period=0 --ignore-not-found=<span class="literal">true</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;更新-CR-Status-字段&quot;&gt;&lt;a href=&quot;#更新-CR-Status-字段&quot; class=&quot;headerlink&quot; title=&quot;更新 CR Status 字段&quot;&gt;&lt;/a&gt;更新 CR Status 字段&lt;/h2&gt;&lt;p&gt;参考 &lt;a href=&quot;https:
      
    
    </summary>
    
      <category term="network" scheme="http://wiki.yanick.site/categories/network/"/>
    
      <category term="kubernetes" scheme="http://wiki.yanick.site/categories/network/kubernetes/"/>
    
      <category term="kubectl" scheme="http://wiki.yanick.site/categories/network/kubernetes/kubectl/"/>
    
    
  </entry>
  
</feed>
